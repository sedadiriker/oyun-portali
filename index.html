<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Oyun Portalı • HTML5</title>
  <style>
    :root{--bg:#0f172a;--fg:#e2e8f0;--muted:#94a3b8;--card:#111827;--accent:#22d3ee;--shadow:0 8px 30px rgba(0,0,0,.3)}
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0b1220,#0f172a);color:var(--fg);font:16px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial}
    a{color:inherit;text-decoration:none}
    header{position:sticky;top:0;z-index:10;background:rgba(15,23,42,.9);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.06)}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,#22d3ee,#818cf8);box-shadow:var(--shadow)}
    .brand strong{font-size:18px}

    .controls{display:grid;grid-template-columns:1fr 160px 140px;gap:12px;margin-top:12px}
    .input,.select{background:var(--card);border:1px solid rgba(255,255,255,.08);color:var(--fg);padding:10px 12px;border-radius:12px;outline:none}

    main{padding:20px 0}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px}
    .card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:16px;overflow:hidden;box-shadow:var(--shadow);cursor:pointer;transition:.2s transform,.2s box-shadow}
    .card:hover{transform:translateY(-3px)}
    .thumb{width:100%;aspect-ratio:16/9;object-fit:cover;background:#0b0f1a}
    .meta{padding:10px 12px}
    .title{font-weight:700;font-size:15px;margin:0 0 4px}
    .cat{font-size:12px;color:var(--muted)}

    .pager{display:flex;justify-content:center;gap:8px;margin-top:20px}
    .btn{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:var(--card);color:var(--fg);cursor:pointer}
    .btn[disabled]{opacity:.4;cursor:not-allowed}

    /* Oyun oynatma alanı (modal) */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,.7);display:none;align-items:center;justify-content:center;padding:20px;z-index:20}
    .player{width:min(1100px,100%);background:var(--card);border:1px solid rgba(255,255,255,.1);border-radius:16px;box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column}
    .player-header{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid rgba(255,255,255,.06)}
    .player-title{font-weight:700}
    .player-iframe{width:100%;height:70vh;border:0;background:#000}
    .close{border:0;background:#ef4444;color:white;padding:8px 12px;border-radius:10px;cursor:pointer}

    /* Basit reklam alanları */
    .ad{background:linear-gradient(90deg,#0b1220,#101827);border:1px dashed rgba(255,255,255,.12);color:var(--muted);text-align:center;padding:10px;border-radius:12px;margin:16px 0}
    footer{color:var(--muted);text-align:center;padding:30px 0}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <strong>Oyun Portalı</strong>
      </div>
      <div class="controls">
        <input id="q" class="input" placeholder="Ara: 2048, araba, bulmaca…" />
        <select id="cat" class="select">
          <option value="">Tüm Kategoriler</option>
        </select>
        <select id="sort" class="select">
          <option value="recent">Sıralama: Yeni</option>
          <option value="alpha">Sıralama: A→Z</option>
        </select>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="ad">Reklam Alanı (728x90)</div>
    <div id="grid" class="grid"></div>
    <div class="pager">
      <button id="prev" class="btn">← Önceki</button>
      <button id="next" class="btn">Sonraki →</button>
    </div>
    <div class="ad">Reklam Alanı (300x250)</div>
  </main>

  <div id="overlay" class="overlay" role="dialog" aria-modal="true">
    <div class="player">
      <div class="player-header">
        <div class="player-title" id="playerTitle">Oyun</div>
        <button class="close" id="closeBtn">Kapat</button>
      </div>
      <iframe id="playerFrame" class="player-iframe" allowfullscreen></iframe>
    </div>
  </div>

  <footer>
    © <span id="year"></span> Oyun Portalı • HTML5 oyunlar kendi sunucunuzda barındırın
  </footer>

  <script>
    // Oyunları KENDİ sunucunuzda barındırın: /games/<slug>/index.html
    // Aşağıdaki örnek kayıtlar yerel dosyaları işaret eder.
    const GAME_DATA = [];
    const categories = ["Aksiyon", "Bulmaca", "Yarış", "Klasik", "Macera", "Strateji", "Spor", "Simülasyon", "Arcade", "Eğitim"];

    // 100 adet örnek oyun oluşturma
    for (let i = 1; i <= 100; i++) {
        const category = categories[Math.floor(Math.random() * categories.length)];
        const slug = "oyun-" + i;
        GAME_DATA.push({
            id: i,
            title: "Örnek Oyun " + i,
            slug: slug,
            category: category,
            date: `2025-08-${String(i % 30 + 1).padStart(2, '0')}`,
            thumb: `https://placehold.co/160x90/111827/94a3b8?text=Oyun+${i}`,
            url: "https://www.crazygames.com/embed/paper-io-2" // Örnek olarak Paper.io 2 kullanıldı
        });
    }

    const catSel = document.getElementById('cat');
    const uniqueCategories = Array.from(new Set(GAME_DATA.map(g => g.category))).sort();
    uniqueCategories.forEach(c => {
        const o = document.createElement('option');
        o.value = c;
        o.textContent = c;
        catSel.appendChild(o);
    });

    const grid = document.getElementById('grid');
    const q = document.getElementById('q');
    const sortSel = document.getElementById('sort');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');

    let state = { q: '', cat: '', sort: 'recent', page: 1, perPage: 12 };

    function applyFilters() {
        let list = [...GAME_DATA];
        if (state.q) {
            const s = state.q.toLowerCase();
            list = list.filter(g => g.title.toLowerCase().includes(s) || g.category.toLowerCase().includes(s));
        }
        if (state.cat) {
            list = list.filter(g => g.category === state.cat);
        }
        if (state.sort === 'alpha') {
            list.sort((a, b) => a.title.localeCompare(b.title));
        } else {
            list.sort((a, b) => new Date(b.date) - new Date(a.date));
        }
        return list;
    }

    function render() {
        const list = applyFilters();
        const total = list.length;
        const pages = Math.max(1, Math.ceil(total / state.perPage));
        state.page = Math.min(state.page, pages);
        const start = (state.page - 1) * state.perPage;
        const pageItems = list.slice(start, start + state.perPage);

        grid.innerHTML = '';
        pageItems.forEach(g => {
            const card = document.createElement('article');
            card.className = 'card';
            card.innerHTML = `
              <img class="thumb" src="${g.thumb}" alt="${g.title}" loading="lazy" />
              <div class="meta">
                <h3 class="title">${g.title}</h3>
                <div class="cat">${g.category}</div>
              </div>`;
            card.addEventListener('click', () => openPlayer(g));
            grid.appendChild(card);
        });

        prevBtn.disabled = state.page <= 1;
        nextBtn.disabled = state.page >= pages;
    }

    q.addEventListener('input', () => {
        state.q = q.value.trim();
        state.page = 1;
        render();
    });
    catSel.addEventListener('change', () => {
        state.cat = catSel.value;
        state.page = 1;
        render();
    });
    sortSel.addEventListener('change', () => {
        state.sort = sortSel.value;
        state.page = 1;
        render();
    });
    prevBtn.addEventListener('click', () => {
        if (state.page > 1) {
            state.page--;
            render();
        }
    });
    nextBtn.addEventListener('click', () => {
        state.page++;
        render();
    });

    // Oyun oynatma (modal)
    const overlay = document.getElementById('overlay');
    const playerFrame = document.getElementById('playerFrame');
    const playerTitle = document.getElementById('playerTitle');
    document.getElementById('closeBtn').addEventListener('click', closePlayer);
    overlay.addEventListener('click', (e) => {
        if (e.target === overlay) closePlayer();
    });

    function openPlayer(g) {
        playerTitle.textContent = g.title;
        playerFrame.src = g.url; // Kendi sunucundaki oyunun index.html'i
        overlay.style.display = 'flex';
        history.pushState({
            slug: g.slug
        }, '', `#/${g.slug}`); // Basit router
    }

    function closePlayer() {
        overlay.style.display = 'none';
        playerFrame.src = '';
        history.pushState({}, '', '#/');
    }

    // Basit hash router: doğrudan #/slug ile açılabilsin
    window.addEventListener('load', () => {
        const hash = location.hash.replace('#/', '');
        if (hash) {
            const g = GAME_DATA.find(x => x.slug === hash);
            if (g) openPlayer(g);
        }
        render();
        document.getElementById('year').textContent = new Date().getFullYear();
    });
    window.addEventListener('hashchange', () => {
        const slug = location.hash.replace('#/', '');
        const g = GAME_DATA.find(x => x.slug === slug);
        if (g) {
            openPlayer(g);
        } else {
            closePlayer();
        }
    });
  </script>
</body>
</html>
